---
title: "Client"
---

This document describes the client interface for interacting with the Dynamic Fees module.

<Warning>
**Query-Only Access**: The Dynamic Fees module only provides query functionality to external clients. Parameter updates (`MsgUpdateParams`) can only be executed through governance proposals, not directly by individual users.
</Warning>

The `neutrond` command-line interface provides commands to interact with the Dynamic Fees module.

## CLI Commands

### Queries

#### Module Parameters

The `params` command queries the current module parameters, including the asset price registry.

```bash
neutrond query dynamicfees params
```

Example output:
```json
{
  "params": {
    "ntrn_prices": [
      {
        "denom": "uatom",
        "amount": "0.150000000000000000"
      },
      {
        "denom": "uosmo",
        "amount": "0.080000000000000000"
      }
    ]
  }
}
```

<Note>
**No Transaction Commands**: The Dynamic Fees module does not provide CLI transaction commands for individual users. Parameter updates must be submitted through governance proposals.
</Note>

## gRPC Usage

The Dynamic Fees module exposes gRPC endpoints that can be accessed programmatically:

### Querying Module Parameters

```bash
grpcurl -plaintext \
  -d '{}' \
  localhost:9090 \
  neutron.dynamicfees.Query/Params
```

Example output:
```json
{
  "params": {
    "ntrnPrices": [
      {
        "denom": "uatom",
        "amount": "0.150000000000000000"
      },
      {
        "denom": "uosmo", 
        "amount": "0.080000000000000000"
      }
    ]
  }
}
```

### Governance Message Example

For governance proposals that update parameters, the gRPC message structure would be:

```json
{
  "authority": "neutron1...", // governance authority address
  "params": {
    "ntrn_prices": [
      {
        "denom": "uatom",
        "amount": "0.150000000000000000"
      },
      {
        "denom": "uosmo",
        "amount": "0.080000000000000000"
      }
    ]
  }
}
```

<Note>
This message can only be executed through governance proposals, not directly by individual users.
</Note>

## REST API Usage

The Dynamic Fees module also exposes REST endpoints:

### Querying Module Parameters

```bash
curl -X GET "http://localhost:1317/neutron/dynamicfees/params"
```

Example output:
```json
{
  "params": {
    "ntrn_prices": [
      {
        "denom": "uatom",
        "amount": "0.150000000000000000"
      },
      {
        "denom": "uosmo",
        "amount": "0.080000000000000000"
      }
    ]
  }
}
```

## JavaScript/TypeScript Client Usage

Example of querying the Dynamic Fees module using CosmJS:

```typescript
import { QueryClient, createProtobufRpcClient } from "@cosmjs/stargate";
import { Tendermint34Client } from "@cosmjs/tendermint-rpc";

// Connect to a Tendermint RPC endpoint
const tendermintClient = await Tendermint34Client.connect("http://localhost:26657");
const queryClient = QueryClient.withExtensions(tendermintClient);

// Create a Dynamic Fees module query client
const rpcClient = createProtobufRpcClient(queryClient);
const dynamicFeesQueryClient = {
  params: () => {
    return neutron.dynamicfees.Query.params({});
  },
};

// Query module parameters
const params = await dynamicFeesQueryClient.params();
console.log("Dynamic Fees Parameters:", params);
console.log("NTRN Prices:", params.params.ntrnPrices);
```

## Governance Integration

For developers working on governance proposals that need to update Dynamic Fees parameters:

```javascript
// Example governance proposal message
const updateParamsMsg = {
  "@type": "/neutron.dynamicfees.MsgUpdateParams",
  "authority": "neutron1...", // governance authority
  "params": {
    "ntrn_prices": [
      {
        "denom": "uatom",
        "amount": "0.150000000000000000"
      },
      {
        "denom": "uosmo",
        "amount": "0.080000000000000000"
      }
    ]
  }
};

// This would be included in a governance proposal
const proposal = {
  "title": "Update Dynamic Fees Asset Prices",
  "description": "Update NTRN-denominated prices for supported assets",
  "messages": [updateParamsMsg]
};
```

## Fee Market Integration

The Dynamic Fees module works in cooperation with the fee market module. Developers can use the price data for fee calculations:

```javascript
// Query current asset prices
const params = await dynamicFeesQueryClient.params();
const ntrnPrices = params.params.ntrnPrices;

// Find price for a specific asset
const atomPrice = ntrnPrices.find(price => price.denom === "uatom");
console.log("ATOM price in NTRN:", atomPrice.amount);

// Calculate fee in different denomination
const baseFeeInUntrn = "1000"; // base fee in untrn
const feeInAtom = parseFloat(baseFeeInUntrn) * parseFloat(atomPrice.amount);
console.log("Equivalent fee in ATOM:", feeInAtom);
```

This client interface ensures that users can query Dynamic Fees module state and understand asset pricing while parameter updates remain under democratic governance control. 