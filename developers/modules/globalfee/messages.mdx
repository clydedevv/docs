---
title: "Messages"
---

The Global Fee module supports the following messages.

<Warning>
**Governance-Only Access**: The `MsgUpdateParams` message can only be executed through governance proposals. Individual users cannot directly submit this message via CLI or other means.
</Warning>

## MsgUpdateParams

`MsgUpdateParams` allows the governance account to update the module's parameters, including minimum gas prices and fee bypass configurations.

```protobuf
message MsgUpdateParams {
  option (amino.name) = "globalfee/MsgUpdateParams";
  option (cosmos.msg.v1.signer) = "authority";

  // Authority is the address of the governance account.
  string authority = 1 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // params defines the x/globalfee parameters to update.
  //
  // NOTE: All parameters must be supplied.
  globalfee.Params params = 2 [
    (gogoproto.nullable) = false,
    (amino.dont_omitempty) = true
  ];
}
```

| Field | Type | Description |
| --- | --- | --- |
| `authority` | string | Address of the governance account (must be the governance authority) |
| `params` | Params | New parameters for the module |

### Response

```protobuf
message MsgUpdateParamsResponse {}
```

The response is empty if the operation succeeds.

### Governance Usage

This message can only be executed through governance proposals. To update the Global Fee module parameters, submit a governance proposal that includes this message:

```json
{
  "title": "Update Global Fee Parameters",
  "description": "Update minimum gas prices and fee bypass configurations for network security",
  "messages": [
    {
      "@type": "/gaia.globalfee.v1beta1.MsgUpdateParams",
      "authority": "neutron1...", // governance authority address
      "params": {
        "minimum_gas_prices": [
          {
            "denom": "untrn",
            "amount": "0.025000000000000000"
          },
          {
            "denom": "uatom",
            "amount": "0.005000000000000000"
          }
        ],
        "bypass_min_fee_msg_types": [
          "/cosmos.gov.v1beta1.MsgVote",
          "/cosmos.gov.v1beta1.MsgVoteWeighted",
          "/cosmos.staking.v1beta1.MsgDelegate"
        ],
        "max_total_bypass_min_fee_msg_gas_usage": 1000000
      }
    }
  ]
}
```

<Note>
Parameter updates require community governance approval through Neutron's DAO process. Individual users cannot directly execute this message.
</Note>

### Permissions

This message has strict permission checks:

1. Only the governance authority can update parameters
2. All parameter fields must be supplied
3. The message must be executed through a governance proposal

## Module Parameters

The parameters that can be updated include:

```protobuf
message Params {
  // minimum_gas_prices stores the minimum gas price(s) for all TX on the chain.
  // When multiple coins are defined then they are accepted alternatively.
  // The list must be sorted by denoms asc. No duplicate denoms or zero amount
  // values allowed.
  repeated cosmos.base.v1beta1.DecCoin minimum_gas_prices = 1;
  
  // bypass_min_fee_msg_types defines a list of message type urls
  // that are free of fee charge.
  repeated string bypass_min_fee_msg_types = 2;
  
  // max_total_bypass_min_fee_msg_gas_usage defines the total maximum gas usage
  // allowed for a transaction containing only messages of types in bypass_min_fee_msg_types
  // to bypass fee charge.
  uint64 max_total_bypass_min_fee_msg_gas_usage = 3;
}
```

| Parameter | Type | Description |
| --- | --- | --- |
| `minimum_gas_prices` | []DecCoin | Minimum gas prices required for all transactions |
| `bypass_min_fee_msg_types` | []string | Message types that can bypass minimum fee requirements |
| `max_total_bypass_min_fee_msg_gas_usage` | uint64 | Maximum gas usage allowed for fee-exempt transactions |

### Minimum Gas Prices Structure

Each entry in the `minimum_gas_prices` array represents:

- **Denomination**: The asset identifier (e.g., "untrn", "uatom")
- **Amount**: The minimum gas price required for that asset as a decimal value

Example price entries:
```json
{
  "denom": "untrn",
  "amount": "0.025000000000000000"  // 0.025 untrn per gas unit
}
```

**Requirements:**
- List must be sorted by denomination in ascending order
- No duplicate denominations allowed
- No zero amount values allowed
- When multiple denominations are defined, they are accepted alternatively

### Bypass Message Types

The `bypass_min_fee_msg_types` parameter contains message type URLs that are exempt from minimum fee requirements:

**Common Examples:**
- `/cosmos.gov.v1beta1.MsgVote` - Governance voting
- `/cosmos.gov.v1beta1.MsgVoteWeighted` - Weighted governance voting
- `/cosmos.staking.v1beta1.MsgDelegate` - Token delegation
- `/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward` - Reward withdrawals

**Security Considerations:**
- Only essential network operations should be included
- Each message type should be carefully evaluated for abuse potential
- Regular review of bypass list is recommended

### Gas Usage Limits

The `max_total_bypass_min_fee_msg_gas_usage` parameter:

- Applies only to transactions containing exclusively bypass message types
- Prevents abuse of fee exemptions through high gas usage
- Should be set based on typical gas requirements for exempt operations

### Parameter Update Considerations

When updating Global Fee parameters through governance:

- **Network Security**: Ensure minimum fees provide adequate spam protection
- **User Accessibility**: Balance security with transaction affordability
- **Validator Economics**: Consider impact on validator revenue
- **Bypass Abuse**: Carefully evaluate new bypass message types
- **Gas Limits**: Set appropriate limits for exempt transactions

### Fee Enforcement Logic

The module enforces fees using this logic:

1. **Check Transaction Composition**: Determine if transaction contains only bypass message types
2. **Apply Appropriate Rules**:
   - **Standard Transactions**: Must meet minimum gas price requirements
   - **Bypass Transactions**: Must stay within gas usage limits
3. **Multi-Asset Support**: Accept fees in any configured denomination
4. **Validation**: Ensure all requirements are met before processing

This ensures network security while providing flexibility for essential operations and maintaining economic sustainability for validators. 