---
title: "Client"
description: "Query client details for the admin module"
---

This document describes how to interact with the admin module using various client interfaces. 

<Warning>
**Query-Only Access**: The admin module only provides query functionality to external clients. All transaction operations must go through the Main DAO contract using WebAssembly bindings. Individual users cannot submit transactions to this module.
</Warning>

## CLI Client

The admin module provides query commands for inspecting module state, but no transaction commands for individual users.

### Query Commands

#### Query Parameters

Get the current module parameters.

```bash
neutrond query adminmodule params [flags]
```

**Example:**
```bash
neutrond query adminmodule params \
  --node https://rpc.neutron.org:443 \
  --chain-id neutron-1
```

#### Query Admins

List all current administrators (if admin management is enabled).

```bash
neutrond query adminmodule admins [flags]
```

**Example:**
```bash
neutrond query adminmodule admins \
  --output json \
  --node https://rpc.neutron.org:443
```

#### Query Whitelist

Get the list of whitelisted message types that can be executed through governance.

```bash
neutrond query adminmodule whitelist [flags]
```

**Example:**
```bash
neutrond query adminmodule whitelist \
  --chain-id neutron-1 \
  --output json
```

#### Query Proposal

Get details of a specific proposal by ID (if proposal storage is enabled).

```bash
neutrond query adminmodule proposal [proposal-id] [flags]
```

**Example:**
```bash
neutrond query adminmodule proposal 1 \
  --output json
```

#### Query Proposals

List all proposals with optional pagination.

```bash
neutrond query adminmodule proposals [flags]
```

**Example:**
```bash
neutrond query adminmodule proposals \
  --limit 10 \
  --offset 0 \
  --output json
```

<Note>
**No Transaction Commands**: Unlike other Cosmos SDK modules, the admin module does not provide CLI transaction commands. All state changes must go through the Main DAO contract.
</Note>

### Common Query Flags

All query commands support standard Cosmos SDK flags:

| Flag | Description | Example |
|------|-------------|---------|
| `--node` | RPC endpoint | `--node https://rpc.neutron.org:443` |
| `--chain-id` | Chain identifier | `--chain-id neutron-1` |
| `--output` | Output format | `--output json` |
| `--height` | Query at specific height | `--height 1000000` |

## gRPC Client

### Go Client Example

```go
package main

import (
    "context"
    "fmt"
    "google.golang.org/grpc"
    adminmoduletypes "github.com/neutron-org/admin-module/x/adminmodule/types"
)

func main() {
    // Connect to gRPC server
    conn, err := grpc.Dial("localhost:9090", grpc.WithInsecure())
    if err != nil {
        panic(err)
    }
    defer conn.Close()

    // Create query client
    client := adminmoduletypes.NewQueryClient(conn)

    // Query admins
    resp, err := client.Admins(context.Background(), &adminmoduletypes.QueryAdminsRequest{})
    if err != nil {
        panic(err)
    }
    
    fmt.Printf("Current admins: %v\n", resp.Admins)

    // Query whitelist
    whitelistResp, err := client.Whitelist(context.Background(), &adminmoduletypes.QueryWhitelistRequest{})
    if err != nil {
        panic(err)
    }
    
    fmt.Printf("Whitelisted messages: %v\n", whitelistResp.WhitelistedMessages)

    // Query parameters
    paramsResp, err := client.Params(context.Background(), &adminmoduletypes.QueryParamsRequest{})
    if err != nil {
        panic(err)
    }
    
    fmt.Printf("Module parameters: %v\n", paramsResp.Params)
}
```

### TypeScript Client Example

```typescript
import { QueryClient } from '@cosmjs/stargate'
import { Tendermint34Client } from '@cosmjs/tendermint-rpc'

async function queryAdminModule() {
  // Connect to RPC endpoint
  const tmClient = await Tendermint34Client.connect('https://rpc.neutron.org:443')
  const queryClient = new QueryClient(tmClient)

  try {
    // Query admins
    const adminsResponse = await queryClient.queryUnverified(
      '/cosmos.adminmodule.adminmodule.Query/Admins',
      new Uint8Array()
    )
    
    console.log('Admins:', adminsResponse)

    // Query whitelist
    const whitelistResponse = await queryClient.queryUnverified(
      '/cosmos.adminmodule.adminmodule.Query/Whitelist',
      new Uint8Array()
    )
    
    console.log('Whitelist:', whitelistResponse)

    // Query parameters
    const paramsResponse = await queryClient.queryUnverified(
      '/cosmos.adminmodule.adminmodule.Query/Params',
      new Uint8Array()
    )
    
    console.log('Parameters:', paramsResponse)

  } catch (error) {
    console.error('Query error:', error)
  }
}
```

## REST API Client

### JavaScript/Node.js Example

```javascript
const axios = require('axios')

const BASE_URL = 'https://rest.neutron.org'

async function queryAdminModule() {
  try {
    // Query admins
    const adminsResponse = await axios.get(`${BASE_URL}/cosmos/adminmodule/adminmodule/admins`)
    console.log('Admins:', adminsResponse.data.admins)

    // Query parameters
    const paramsResponse = await axios.get(`${BASE_URL}/cosmos/adminmodule/adminmodule/params`)
    console.log('Parameters:', paramsResponse.data.params)

    // Query whitelist
    const whitelistResponse = await axios.get(`${BASE_URL}/cosmos/adminmodule/adminmodule/whitelist`)
    console.log('Whitelist:', whitelistResponse.data.whitelisted_messages)

    // Query specific proposal (if available)
    const proposalResponse = await axios.get(`${BASE_URL}/cosmos/adminmodule/adminmodule/proposal/1`)
    console.log('Proposal 1:', proposalResponse.data.proposal)

  } catch (error) {
    console.error('Error querying admin module:', error.response?.data || error.message)
  }
}

queryAdminModule()
```

### Python Example

```python
import requests
import json

BASE_URL = 'https://rest.neutron.org'

def query_admin_module():
    try:
        # Query admins
        admins_response = requests.get(f'{BASE_URL}/cosmos/adminmodule/adminmodule/admins')
        admins_response.raise_for_status()
        print('Admins:', admins_response.json()['admins'])

        # Query parameters
        params_response = requests.get(f'{BASE_URL}/cosmos/adminmodule/adminmodule/params')
        params_response.raise_for_status()
        print('Parameters:', params_response.json()['params'])

        # Query whitelist
        whitelist_response = requests.get(f'{BASE_URL}/cosmos/adminmodule/adminmodule/whitelist')
        whitelist_response.raise_for_status()
        print('Whitelist:', whitelist_response.json()['whitelisted_messages'])

    except requests.exceptions.RequestException as e:
        print(f'Error querying admin module: {e}')

if __name__ == '__main__':
    query_admin_module()
```

## DAO Integration for Developers

While individual users cannot submit transactions to the admin module, developers working on DAO governance contracts can use WebAssembly bindings:

### Rust/CosmWasm Example

```rust
use neutron_sdk::bindings::msg::NeutronMsg;
use cosmwasm_std::{Response, CosmosMsg};

// This would only work within the Main DAO contract
pub fn submit_admin_proposal(messages: Vec<CosmosMsg>) -> Result<Response, ContractError> {
    // Create admin module message
    let admin_msg = NeutronMsg::SubmitProposal {
        messages: messages,
    };

    Ok(Response::new()
        .add_message(admin_msg)
        .add_attribute("action", "submit_admin_proposal"))
}
```

<Warning>
The above code example is only relevant for developers working on the core DAO infrastructure. Regular smart contracts and users cannot use these bindings to interact with the admin module.
</Warning>

## Query Response Examples

### Admins Query Response

```json
{
  "admins": [
    "neutron1436kxs0w2es6xlqpp9rd35e3d0cjnw4sv8j3a7483sgks29jqwgshlt6zh"
  ]
}
```

### Parameters Query Response

```json
{
  "params": {
    "admin_authority": "neutron1436kxs0w2es6xlqpp9rd35e3d0cjnw4sv8j3a7483sgks29jqwgshlt6zh",
    "whitelist_enabled": true,
    "max_proposal_size": "100",
    "proposal_authority": "neutron1436kxs0w2es6xlqpp9rd35e3d0cjnw4sv8j3a7483sgks29jqwgshlt6zh"
  }
}
```

### Whitelist Query Response

```json
{
  "whitelisted_messages": [
    "/cosmos.bank.v1beta1.MsgSend",
    "/cosmwasm.wasm.v1.MsgInstantiateContract",
    "/cosmwasm.wasm.v1.MsgExecuteContract",
    "/neutron.cron.MsgUpdateParams",
    "/neutron.feeburner.MsgUpdateParams"
  ]
}
```

## Error Handling

When querying the admin module, you may encounter these common errors:

### Common Query Errors

| Error | Description | Solution |
|-------|-------------|----------|
| `not found` | Requested resource doesn't exist | Verify the query parameters |
| `invalid height` | Querying at non-existent block height | Use a valid block height |
| `connection refused` | Cannot connect to node | Check node endpoint and network connectivity |
| `unauthorized` | Insufficient permissions | This shouldn't occur for queries |

### Error Response Format

```json
{
  "code": 5,
  "message": "not found: proposal with id 999 not found",
  "details": []
}
```

This query-only access model ensures that while users can inspect the admin module's state, all modifications must go through the democratic governance process via the Main DAO contract. 