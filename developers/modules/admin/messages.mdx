---
title: "Messages"
description: "Message types and transaction structures for the admin module"
---

This document describes the message types available in the admin module for governance and administrative operations.

<Warning>
**DAO-Only Access**: All admin module messages can only be executed by the Main DAO contract through WebAssembly bindings. Individual users cannot directly submit these messages via CLI or other means.
</Warning>

## Message Types

The admin module supports several message types for different governance operations, divided into legacy proposals and modern message-based proposals.

### MsgSubmitProposal

Submits a proposal using the modern message-based approach, allowing execution of any valid `sdk.Msg` through governance.

```protobuf
message MsgSubmitProposal {
  repeated google.protobuf.Any messages = 1;
  string proposer = 2;
}
```

**Fields:**
- `messages` - Array of messages to be executed if the proposal is approved
- `proposer` - Address of the entity submitting the proposal (must be Main DAO contract)

<Note>
This message can only be sent by the Main DAO contract using the `ProposalExecuteMessage` WebAssembly binding. It is not available as a CLI command.
</Note>

### MsgSubmitProposalResponse

Response message for successful proposal submission.

```protobuf
message MsgSubmitProposalResponse {
  uint64 proposal_id = 1;
}
```

**Fields:**
- `proposal_id` - Unique identifier assigned to the submitted proposal

### MsgSubmitProposalLegacy

Submits a proposal using the legacy governance format for backward compatibility.

```protobuf
message MsgSubmitProposalLegacy {
  google.protobuf.Any content = 1;
  string proposer = 2;
}
```

**Fields:**
- `content` - The proposal content following legacy format specifications
- `proposer` - Address of the entity submitting the proposal (must be Main DAO contract)

**Supported Legacy Proposal Types:**
- `ParameterChangeProposal`
- `CommunityPoolSpendProposal`  
- `TextProposal`
- `SoftwareUpgradeProposal`
- `CancelSoftwareUpgradeProposal`
- Various module-specific proposals

<Note>
Legacy proposals are maintained for backward compatibility with modules that haven't migrated to SDK 0.47+ patterns, such as IBC-related operations.
</Note>

### MsgSubmitProposalLegacyResponse

Response message for successful legacy proposal submission.

```protobuf
message MsgSubmitProposalLegacyResponse {
  uint64 proposal_id = 1;
}
```

**Fields:**
- `proposal_id` - Unique identifier assigned to the submitted proposal

### MsgAddAdmin

Adds a new admin to the network (if admin management is enabled).

```protobuf
message MsgAddAdmin {
  string creator = 1;
  string admin = 2;
}
```

**Fields:**
- `creator` - Address of the entity adding the admin (must be Main DAO contract)
- `admin` - Address of the new admin to be added

<Note>
Admin management functionality depends on the current network configuration and may not be actively used in Neutron's current governance model. This message can only be executed through DAO governance.
</Note>

### MsgAddAdminResponse

Response message for successful admin addition.

```protobuf
message MsgAddAdminResponse {}
```

### MsgDeleteAdmin

Removes an existing admin from the network.

```protobuf
message MsgDeleteAdmin {
  string creator = 1;
  string admin = 2;
}
```

**Fields:**
- `creator` - Address of the entity removing the admin (must be Main DAO contract)
- `admin` - Address of the admin to be removed

### MsgDeleteAdminResponse

Response message for successful admin removal.

```protobuf
message MsgDeleteAdminResponse {}
```

## Message Validation

All messages undergo comprehensive validation before execution:

### Proposal Message Validation

For `MsgSubmitProposal`:
- All messages must be valid `sdk.Msg` types
- Messages must be whitelisted for execution
- Proposer must be the authorized Main DAO contract
- Message parameters must pass format validation

### Legacy Proposal Validation

For `MsgSubmitProposalLegacy`:
- Content must match expected legacy proposal format
- Proposal type must be supported and whitelisted
- All parameters must pass legacy validation rules
- Proposer must be the authorized Main DAO contract

### Admin Management Validation

For admin management messages:
- Creator must be the authorized Main DAO contract
- Target admin address must be valid
- Operation must not conflict with existing admin state

## DAO Integration

### WebAssembly Binding Usage

The Main DAO contract uses the `ProposalExecuteMessage` binding to interact with the admin module:

```rust
use neutron_sdk::bindings::msg::NeutronMsg;

// This would be executed within the Main DAO contract
let admin_msg = NeutronMsg::SubmitProposal {
    messages: vec![/* whitelisted sdk.Msg messages */],
};
```

### Authority Verification

The admin module includes comprehensive authority verification:
- **Signer Verification**: Ensures messages come from the authorized DAO contract
- **Message Validation**: Confirms all messages are properly formatted
- **Whitelist Checking**: Verifies that message types are approved for execution

## Common Message Patterns

### Parameter Update Messages

Updating module parameters through governance:

```json
{
  "@type": "/neutron.cron.MsgUpdateParams",
  "authority": "neutron1...",
  "params": {
    "security_address": "neutron1...",
    "limit": "100"
  }
}
```

### Contract Administration Messages

Managing smart contracts through governance:

```json
{
  "@type": "/cosmwasm.wasm.v1.MsgInstantiateContract",
  "sender": "neutron1...",
  "admin": "neutron1...",
  "code_id": "1",
  "label": "governance-contract",
  "msg": "{\"owner\":\"neutron1...\"}"
}
```

### Multi-Message Proposals

Executing multiple operations atomically:

```json
{
  "messages": [
    {
      "@type": "/cosmos.bank.v1beta1.MsgSend",
      "from_address": "neutron1...",
      "to_address": "neutron1...",
      "amount": [{"denom": "untrn", "amount": "1000000"}]
    },
    {
      "@type": "/neutron.cron.MsgUpdateParams",
      "authority": "neutron1...",
      "params": {"limit": "50"}
    }
  ]
}
```

## Security Considerations

### Whitelisting

The admin module implements strict whitelisting to ensure only approved operations can be executed:
- Message types must be explicitly whitelisted
- Operations are validated before execution
- Unauthorized message types are rejected

### Access Control

All operations are subject to strict access control:
- Only the Main DAO contract can submit messages
- All operations require community governance approval
- Unauthorized access attempts are logged and rejected

This architecture ensures that critical network operations maintain democratic oversight while providing the technical capability for complex administrative tasks. 